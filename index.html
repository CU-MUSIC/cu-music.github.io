<!doctype html>
<html lang="zh-CN">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8D9FZCMZFJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8D9FZCMZFJ');
</script>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<meta name="description" content="C/U MUSIC â€” Mixing & Production studio. Chefdao & Uin production team. Booking via WeChat:CUMUSIC-." />
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¹</text></svg>">

<title>C/U MUSIC</title>

<style>
:root{
  --bg:#050505;
  --card-bg:#0f0f0f;
  --card-hover:#161616;
  --accent:#ffffff;
  --text-primary:#ffffff;
  --text-secondary:#86868b;
  --border:rgba(255,255,255,0.08);
  --border-bright:rgba(255,255,255,0.15);
  --font: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", sans-serif;
  --radius-album:14px;
  --transition-cubic: cubic-bezier(.2,1,.3,1);
}

/* reset + basics */
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text-primary);font-family:var(--font);-webkit-font-smoothing:antialiased;line-height:1.5;overflow-x:hidden}

/* scrollbar */
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:#333;border-radius:10px}
a{color:inherit;text-decoration:none}

/* nav */
nav{position:fixed;top:0;width:100%;height:60px;background:rgba(0,0,0,0.66);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);z-index:1000;display:flex;justify-content:center;align-items:center;gap:50px;border-bottom:1px solid var(--border)}
nav a{color:var(--text-secondary);font-size:11px;letter-spacing:0.18em;text-transform:uppercase;font-weight:500}
nav a:hover{color:var(--accent)}

/* header */
header{padding:140px 20px 80px;text-align:center}
.brand-name{font-size:clamp(2.2rem,8vw,4.2rem);font-weight:200;letter-spacing:0.3em;text-transform:uppercase;margin-right:-0.3em}
.brand-sub{color:var(--text-secondary);margin-top:18px;font-size:0.75rem;letter-spacing:0.5em;font-weight:300;text-transform:uppercase}

.wechat-contact{display:inline-flex;align-items:center;gap:10px;margin-top:26px;padding:20px 26px;background:rgba(255,255,255,0.04);border:1px solid var(--border-bright);border-radius:30px;font-size:0.95rem;letter-spacing:2px;color:var(--text-primary);cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1)}
.wechat-contact:focus{outline:2px solid rgba(255,255,255,0.06);outline-offset:3px}
.wechat-contact:hover{background:rgba(255,255,255,0.08);transform:translateY(-2px);box-shadow:0 10px 30px rgba(0,0,0,0.3)}
.wechat-icon{font-size:1.2rem}

/* toast */
.copy-toast{position:fixed;top:80px;left:50%;transform:translateX(-50%) translateY(-20px);background:rgba(52,199,89,0.95);color:#fff;padding:12px 22px;border-radius:20px;font-size:0.85rem;letter-spacing:0.5px;opacity:0;pointer-events:none;transition:all .28s;z-index:2000}
.copy-toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

/* team split */
.team-split{display:flex;width:100%;height:88vh;background:#000}
.member-section{position:relative;flex:1;display:flex;justify-content:center;align-items:center;overflow:hidden;cursor:pointer;transition:flex .6s cubic-bezier(.4,0,.2,1);min-height:220px}
.member-section:focus{outline:2px solid rgba(255,255,255,0.06);outline-offset:0}
.member-section:hover{flex:1.25}
.member-bg{position:absolute;inset:0;background-size:cover;background-position:center;filter:grayscale(.4) brightness(.5);transition:transform 1.2s var(--transition-cubic),filter .6s}
.member-section:hover .member-bg{transform:scale(1.06);filter:grayscale(0) brightness(.72)}
.member-section::after{content:'';position:absolute;bottom:0;left:0;width:100%;height:40%;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);z-index:1}
.member-content{position:relative;z-index:2;text-align:center;padding:20px}
.member-role{font-size:.7rem;letter-spacing:4px;color:rgba(255,255,255,.5);text-transform:uppercase;margin-bottom:10px}
.member-name{font-size:3.2rem;font-weight:800;text-transform:uppercase;letter-spacing:2px}
.personal-link{display:inline-block;margin-top:15px;font-size:.65rem;letter-spacing:2px;color:var(--text-secondary);border:1px solid rgba(255,255,255,.12);padding:6px 15px;border-radius:20px;text-transform:uppercase}
.personal-link:hover{background:#fff;color:#000;border-color:#fff}
.member-section.active{flex:1.5}

/* skill tag shown on hover (MIX / PROD) */
.skill-tag{
  position:absolute;
  top:22px;
  right:22px;
  z-index:3;
  background:rgba(0,0,0,0.5);
  border:1px solid rgba(255,255,255,0.12);
  padding:6px 10px;
  border-radius:14px;
  font-size:0.65rem;
  letter-spacing:1px;
  text-transform:uppercase;
  color:var(--text-secondary);
  transform:translateY(-6px);
  opacity:0;
  transition:opacity .28s, transform .28s;
}
.member-section:hover .skill-tag,
.member-section:focus .skill-tag,
.member-section.active .skill-tag{
  opacity:1;
  transform:translateY(0);
  color:var(--accent);
  background:rgba(255,255,255,0.03);
}

/* works */
#works{padding:120px 5% 100px;max-width:1400px;margin:0 auto;position:relative}
.works-title-wrap{position:relative;text-align:center;margin-bottom:48px}
.section-title{font-size:1.8rem;font-weight:300;letter-spacing:10px;text-transform:uppercase}
.works-watermark{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:6rem;letter-spacing:1.2rem;font-weight:800;color:rgba(255, 255, 255, 0.04);pointer-events:none;user-select:none}

/* controls */
.controls{display:flex;gap:12px;justify-content:center;margin-bottom:28px}
.control-btn{background:transparent;border:1px solid var(--border);padding:8px 14px;border-radius:14px;color:var(--text-secondary);cursor:pointer}
.control-btn.active{border-color:var(--border-bright);color:var(--text-primary);background:rgba(255,255,255,0.02)}

/* album grid */
.album-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;transition:opacity .3s ease}
.album-item{display:block;outline:none;transform:translateY(8px) scale(.995);opacity:.0;transition:transform .5s var(--transition-cubic),opacity .5s ease}

/* use class toggles for GPU-accelerated reveal */
.album-item {
  will-change: transform, opacity;
  transform: translateY(8px) scale(.995);
  opacity: 0;
  transition: transform .5s var(--transition-cubic), opacity .45s ease;
}

/* revealed state set by JS to trigger animation */
.album-item.revealed {
  transform: translateY(0) scale(1);
  opacity: 1;
}

/* improve image decoding to reduce main-thread blocking */
.album-cover img {
  image-rendering: auto;
  /* keep existing rules... */
  transition: transform .6s var(--transition-cubic), filter .4s ease;
  will-change: transform, filter;
}

/* optional: slightly larger observer pre-trigger area to reveal earlier */


/* album cover + overlay */
.album-cover{position:relative;overflow:hidden;border-radius:var(--radius-album);background:#111;display:block;height:0;padding-bottom:100%;box-shadow:0 8px 20px rgba(0,0,0,0.45);transition:transform .35s ease,box-shadow .35s ease}
.album-cover img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:block;transition:transform .6s var(--transition-cubic),filter .4s ease;will-change:transform,filter}

/* overlay (title/meta) */
.album-overlay{position:absolute;left:0;bottom:0;width:100%;padding:12px 14px;background:linear-gradient(to top,rgba(0,0,0,.78) 0%,rgba(0,0,0,.45) 40%,rgba(0,0,0,0) 100%);transition:opacity .35s ease, transform .35s var(--transition-cubic);z-index:2;pointer-events:none}
.album-title{font-size:.95rem;font-weight:700;line-height:1.2;color:rgba(255,255,255,0.95);margin:0;text-transform:uppercase;letter-spacing:0.04em;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}
.album-meta{font-size:.72rem;color:rgba(255,255,255,0.7);margin-top:6px;}

/* minimal VIEW arrow shown on hover (Apple-ish) */
.view-chip{
  position:absolute;
  right:12px;
  bottom:12px;
  z-index:3;
  font-size:0.88rem;
  background:rgba(255,255,255,0.06);
  padding:8px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.06);
  display:flex;
  align-items:center;
  gap:8px;
  opacity:0;
  transform:translateY(6px);
  transition:opacity .28s, transform .28s;
  pointer-events:none;
}
.view-chip .arrow{font-weight:700;transform:translateX(0);transition:transform .2s}
.album-item:hover .view-chip,
.album-item:focus-within .view-chip{
  opacity:1;
  transform:translateY(0);
}
.album-item:hover .album-cover img{transform:scale(1.06);filter:brightness(1.08)}
.album-item:hover .album-overlay{transform:translateY(-6px);background:linear-gradient(to top,rgba(0,0,0,.48) 0%,rgba(0,0,0,.20) 40%,rgba(0,0,0,0) 100%)}
.album-item:hover .album-title{text-decoration:underline}

/* keyboard focus */
.album-item:focus-visible{outline:2px solid rgba(255,255,255,0.06);outline-offset:6px}

/* responsive */
@media (max-width:1100px){.album-grid{grid-template-columns:repeat(2,1fr);gap:20px}}
@media (max-width:480px){.album-grid{grid-template-columns:repeat(2,1fr);gap:12px}header{padding:100px 14px 40px}}
@media(max-width:900px){
  .team-split{flex-direction:row;height:auto}
  .member-section{height:60vh;width:50%}
  .member-name{font-size:2.2rem}
  .bento-grid{grid-template-columns:1fr}
  header{padding:100px 20px 40px}
  .controls{flex-wrap:wrap}
}
/* =========================
   PRICING â€“ Optimized Style
========================= */

.pricing {
  padding: 120px 6% 140px;
  max-width: 1300px;
  margin: 0 auto;
}

/* æœåŠ¡åˆ†ç±»å®¹å™¨ */
.service-group {
  margin-bottom: 80px;
}

.group-header {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 30px;
}

.group-header h3 {
  font-size: 0.8rem;
  letter-spacing: 0.3em;
  color: var(--text-secondary);
  text-transform: uppercase;
  white-space: nowrap;
}

.group-header::after {
  content: "";
  height: 1px;
  flex: 1;
  background: linear-gradient(to right, var(--border), transparent);
}

.pricing-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

.pricing-card {
  background: rgba(255,255,255,0.02);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 32px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: all 0.4s var(--transition-cubic);
  position: relative;
  overflow: hidden;
}

.pricing-card:hover {
  background: rgba(255,255,255,0.04);
  border-color: var(--border-bright);
  transform: translateY(-5px);
}

/* çªå‡ºæ˜¾ç¤ºæ ¸å¿ƒæœåŠ¡ */
.pricing-card.premium {
  background: rgba(255,255,255,0.05);
  border-color: rgba(255,255,255,0.2);
}

.pricing-card.premium::before {
  content: "RECOMMENDED";
  position: absolute;
  top: 12px;
  right: 12px;
  font-size: 10px;
  letter-spacing: 1px;
  opacity: 0.5;
}

.pricing-card h4 {
  font-size: 1.1rem;
  font-weight: 500;
  margin-bottom: 8px;
  color: var(--accent);
}

.pricing-card .price {
  font-size: 1.8rem;
  font-weight: 300;
  margin: 15px 0;
  display: flex;
  align-items: baseline;
  gap: 4px;
}

.pricing-card .price span {
  font-size: 0.5em;
  color: var(--text-secondary);
}

.pricing-card .desc {
  font-size: 0.85rem;
  color: var(--text-secondary);
  line-height: 1.6;
  min-height: 3em;
}

.pricing-card .footer-info {
  margin-top: 24px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.pricing-card .tag {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 1px;
  padding: 4px 10px;
  border-radius: 6px;
  background: rgba(255,255,255,0.06);
  color: var(--text-secondary);
}

@media (max-width: 768px) {
  .pricing-grid {
	grid-template-columns: 1fr;
  }
  .pricing {
	padding: 80px 20px;
  }
}


footer{padding:80px 20px;text-align:center;background:linear-gradient(to bottom,var(--bg),#000)}
.footer-brand{font-size:1rem;letter-spacing:12px;opacity:.85}
</style>
</head>
<body>

<nav aria-label="Primary">
  <a href="#team">Producers</a>
  <a href="#works">Works</a>
  <a href="#pricing">Services</a>
</nav>

<header>
  <div class="brand-name">C/U MUSIC</div>
  <div class="brand-sub">CHEFDAO &amp; UIN PRODUCTION TEAM</div>
  <button class="wechat-contact" id="wechatBtn" aria-label="Copy WeChat and open site">
	<span class="wechat-icon">ğŸ’¬</span>
	<span>Contact WeChat:CUMUSIC-</span>
  </button>
</header>

<main>
<section class="team-split" id="team">
  <div class="member-section" role="button" tabindex="0" data-filter="cookdao" data-skill="Mix" aria-pressed="false">
	<div class="skill-tag" aria-hidden="true">MIX</div>
	<div class="member-bg" style="background-image:url('https://raw.githubusercontent.com/CU-MUSIC/cu-music.github.io/refs/heads/main/pics/IMG_6701-1.jpeg');" aria-hidden="true"></div>
	<div class="member-content">
	  <div class="member-role">Mixing Engineer</div>
	  <div class="member-name">Chefdao</div>
	  <a class="personal-link" href="https://cumusic.work/chefdao/" target="_blank" rel="noopener noreferrer">Visit Website</a>
	</div>
  </div>

  <div class="member-section" role="button" tabindex="0" data-filter="uin" data-skill="Prod" aria-pressed="false">
	<div class="skill-tag" aria-hidden="true">PROD</div>
	<div class="member-bg" style="background-image:url('https://raw.githubusercontent.com/CU-MUSIC/cu-music.github.io/refs/heads/main/pics/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_2025-12-31_005323_255.jpg');" aria-hidden="true"></div>
	<div class="member-content">
	  <div class="member-role">Producer / Songwriter</div>
	  <div class="member-name">Uin</div>
	  <a class="personal-link" href="https://linktr.ee/uin_" target="_blank" rel="noopener noreferrer">More Links</a>
	</div>
  </div>
</section>

<section id="works">
  <div class="works-title-wrap">
	<span class="works-watermark">SELECT</span>
	<h2 class="section-title">WORKS</h2>
  </div>

  <div class="controls" role="toolbar" aria-label="Album controls">
	<button class="control-btn active" data-filter="all">All</button>
	<button class="control-btn" data-filter="cookdao">Chefdao</button>
	<button class="control-btn" data-filter="uin">Uin</button>
  </div>

  <div id="album-container" class="album-grid" aria-live="polite"></div>
</section>
<section id="pricing" class="pricing">
  <div class="pricing-title-wrap">
	<h2 class="section-title">PRICING & SERVICES</h2>
  </div>

  <div class="service-group">
	<div class="group-header"><h3>Mixing & Post Production</h3></div>
	<div class="pricing-grid">
	<div class="pricing-card premium">
		<h4>Stem Mixing</h4>
		<p class="price">Â¥1,500<span>+</span></p>
		<p class="desc">ä¸“ä¸šåˆ†è½¨æ··éŸ³ã€‚é’ˆå¯¹å¤šè½¨é“ä½œå“ï¼Œè¿›è¡Œæ·±åº¦åŠ¨æ€ä¸ç©ºé—´é‡å¡‘ã€‚</p>
		<div class="footer-info">
		  <span class="tag">High End</span>
		</div>
	  </div>
	  
	  <div class="pricing-card">
		<h4>Vocal Mixing</h4>
		<p class="price">Â¥450</p>
		<p class="desc">å®Œæ•´è´´å”±æ··éŸ³ï¼ŒåŒ…å«äººå£°ä¿®éŸ³ã€åæœŸå¤„ç†åŠæ¯å¸¦åˆ¶ä½œã€‚</p>
		<div class="footer-info">
		  <span class="tag">3â€“5 Days</span>
		</div>
	  </div>
	  <div class="pricing-card">
		<h4>Mastering</h4>
		<p class="price">Â¥200</p>
		<p class="desc">é’ˆå¯¹æµåª’ä½“å¹³å°ä¼˜åŒ–ï¼Œç²¾å‡†æ§åˆ¶å“åº¦ã€é¢‘æ®µå‡è¡¡ä¸åŠ¨æ€ã€‚</p>
		<div class="footer-info">
		  <span class="tag">Final Touch</span>
		</div>
	  </div>
	</div>
  </div>

  <div class="service-group">
	<div class="group-header"><h3>Production & Arrangement</h3></div>
	<div class="pricing-grid">
	  <div class="pricing-card">
		<h4>Beat Leasing</h4>
		<p class="price">Â¥380</p>
		<p class="desc">éç‹¬å®¶æˆæƒã€‚åŒ…å« MP3 + WAV é«˜è´¨é‡éŸ³é¢‘æ–‡ä»¶ã€‚</p>
		<div class="footer-info">
		  <span class="tag">Instant Buy</span>
		</div>
	  </div>

	  <div class="pricing-card premium">
		<h4>Full Production</h4>
		<p class="price">Â¥3,000<span>+</span></p>
		<p class="desc">ä»ç¼–æ›²åˆ°åˆ¶ä½œçš„å•†ä¸šå®šåˆ¶æœåŠ¡ã€‚ç‹¬å®¶ç‰ˆæƒï¼Œé‡èº«æ‰“é€ ã€‚</p>
		<div class="footer-info">
		  <span class="tag">Custom</span>
		</div>
	  </div>
	  
	  <div class="pricing-card">
		<h4>Lyrics & Comp</h4>
		<p class="price">Â¥680</p>
		<p class="desc">å…¨æ¡ˆè¯æ›²åˆ›ä½œã€‚è´´åˆæ­Œæ‰‹ç‰¹è´¨çš„åŸåˆ›å†…å®¹æ–¹æ¡ˆã€‚</p>
		<div class="footer-info">
		  <span class="tag">Songwriting</span>
		</div>
	  </div>
	</div>
  </div>

</section>
</section>


</main>

<footer>
  <div class="footer-brand">C/U MUSIC</div>
  <div style="margin-top:24px;color:var(--text-secondary);font-size:.9rem">
	<p style="letter-spacing:1px">Booking via WeChat: <span style="color:#fff;font-weight:600;margin-left:8px">Cookdao</span></p>
	<p style="margin-top:10px"><a href="https://cookdao.github.io/" target="_blank" rel="noopener noreferrer" style="text-decoration:underline;opacity:.7">Visit Personal Website</a></p>
	<p style="margin-top:20px;opacity:.35;font-size:.8rem">&copy; 2026 C/U MUSIC STUDIO. ALL RIGHTS RESERVED.</p>
  </div>
</footer>

<div id="toast" class="copy-toast" role="status" aria-live="polite">å·²å¤åˆ¶å¾®ä¿¡å·ï¼šCookdao</div>

<script>
/* ----------------------------
   Data: albums (kept from your list)
   ---------------------------- */
const albums = [
  { link: "https://music.163.com/album?id=263242113", image: "https://p1.music.126.net/QpNRZsfMP5J4tOlziA8Pnw==/109951170504642760.jpg", year: "2025", artist: "Rapeter", title: "IMGOODåˆ«æ‹…å¿ƒæˆ‘", credits:["cookdao"] },
  { link: "https://music.163.com/album?id=350777340", image: "https://p1.music.126.net/_-rFuALruNFFlRfoEslp7A==/109951172303441948.jpg", year: "2025", artist: "FÃ¸xco", title: "Fear Of Nothing", credits:["cookdao"] },
  { link: "https://music.163.com/album?id=349892857", image: "https://p1.music.126.net/Z0XW7Vb1WHMnn0Z0aZ3tVw==/109951172263038796.jpg", year: "2025", artist: "å®‰ä¼Šæ¶µ", title: "BAD DESIRE", credits:["cookdao","uin"] },
  { link: "https://music.163.com/album?id=273398421", image: "https://p2.music.126.net/EZUw2Idccw7OkinISOXpeQ==/109951171093017111.jpg", year: "2025", artist: "RioTå©·", title: "å°å·´è¾£å­", credits:["cookdao"] },
  { link: "https://music.163.com/album?id=285430095", image: "https://p2.music.126.net/fUvIMTUbos3A397_tb6Tzw==/109951172032384990.jpg", year: "2025", artist: "Uin", title: "é¦–å°”ç—…(Take Me Out)", credits:["cookdao","uin"] },
  { link: "https://music.163.com/album?id=276925482", image: "https://p2.music.126.net/m0opMAaNB1eOGnd30EYFZg==/109951171387080337.jpg", year: "2025", artist: "ç„¦å¨‡JoJo", title: "é™•åŒ—å¥³å­", credits:["cookdao"] },
  { link: "https://music.163.com/album?id=270573035", image: "https://p1.music.126.net/NrbdvLw7jhqKWzPYLUzEOw==/109951170927016553.jpg", year: "2025", artist: "YOUNGLEGO", title: "å¿«äººä¸€æ­¥", credits:["cookdao"] },
  { link: "https://music.163.com/album?id=267552392", image: "https://p2.music.126.net/dLO3LfOGdQ-X3P6I02yrWA==/109951170673486612.jpg", year: "2025", artist: "Ele Jazz", title: "å¤ªç©ºè§„åˆ™", credits:["cookdao"] },
  { link: "https://music.163.com/album?id=262350947", image: "https://p2.music.126.net/tg23znRitSin1BsH9cNRpw==/109951170470853706.jpg", year: "2025", artist: "Rapeter", title: "Shower", credits:["cookdao"] },
  { link: "https://music.163.com/album?id=258535006", image: "https://p1.music.126.net/K0FP9U0dC9uzP1MP4WrdIA==/109951170344988605.jpg", year: "2025", artist: "è¥¿å†·", title: "æœä½“ï¼Œè‹¹æœï¼Œä½ ", credits:["cookdao"] },
  { link: "https://music.163.com/album?id=247380991", image: "https://p1.music.126.net/oeWWJJjJ0c0erzqBoiVD3g==/109951169946775974.jpg", year: "2024", artist: "Cee", title: "ä¾¬CYPHERäº†ä¼", credits:["cookdao"] },
  { link: "https://music.163.com/album?id=189753745", image: "https://p1.music.126.net/rA734NyZbO-HTxi0L4CGcQ==/109951169433203470.jpg", year: "2024", artist: "Ele Jazz", title: "Palette Mixtape", credits:["cookdao"] }
];

const container = document.getElementById('album-container');
const toast = document.getElementById('toast');

/* Accessibility: keyboard activation for member sections */
document.querySelectorAll('.member-section').forEach(node => {
  node.addEventListener('click', () => handleMemberClick(node));
  node.addEventListener('keydown', e => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); handleMemberClick(node); } });
});

/* control buttons */
document.querySelectorAll('.control-btn').forEach(btn => btn.addEventListener('click', () => {
  document.querySelectorAll('.control-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  renderAlbums(btn.dataset.filter);
}));

function handleMemberClick(element){
  document.querySelectorAll('.member-section').forEach(m => m.classList.remove('active'));
  element.classList.add('active');
  const filter = element.dataset.filter || 'all';
  // update aria-pressed
  document.querySelectorAll('.member-section').forEach(m => m.setAttribute('aria-pressed','false'));
  element.setAttribute('aria-pressed','true');
  // scroll to works
  document.getElementById('works').scrollIntoView({behavior:'smooth'});
  renderAlbums(filter);
}

/* render albums with fade + sorting most recent first */
function renderAlbums(filter = 'all'){
  container.style.opacity = '0';
  setTimeout(() => {
	container.innerHTML = '';
	const filtered = filter === 'all' ? albums.slice() : albums.filter(a => a.credits.includes(filter));
	// sort by year (most recent first) - if same year, keep original order
	filtered.sort((a,b) => {
	  const ay = parseInt(a.year || '0',10);
	  const by = parseInt(b.year || '0',10);
	  return by - ay;
	});

	filtered.forEach((a, idx) => {
	  const link = document.createElement('a');
	  link.className = 'album-item';
	  link.href = a.link;
	  link.target = '_blank';
	  link.rel = 'noopener noreferrer';
	  link.setAttribute('aria-label', `${a.title} â€” ${a.artist} (${a.year})`);
	  // compose html
	  link.innerHTML = `
		<div class="album-cover" role="img" aria-label="${escapeHtml(a.title)} â€” ${escapeHtml(a.artist)}">
		  <img src="${escapeHtml(a.image)}" alt="${escapeHtml(a.title)} â€” ${escapeHtml(a.artist)}" loading="lazy"
			onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;800&quot; height=&quot;800&quot;><rect width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;%23111&quot;/><text x=&quot;50%&quot; y=&quot;50%25&quot; dominant-baseline=&quot;middle&quot; text-anchor=&quot;middle&quot; fill=&quot;%23aaa&quot; font-size=&quot;22&quot; font-family=&quot;Arial, sans-serif&quot;>No Image</text></svg>'>
		  <div class="album-overlay">
			<h4 class="album-title">${escapeHtml(a.title)}</h4>
			<p class="album-meta">${escapeHtml(a.artist)} Â· ${escapeHtml(a.year)}</p>
		  </div>
		  <div class="view-chip" aria-hidden="true"><span>VIEW</span><span class="arrow">â†’</span></div>
		</div>
	  `;
	  container.appendChild(link);
	});
	// after DOM update, trigger reveal animation via IntersectionObserver
	container.style.opacity = '1';
	requestAnimationFrame(() => observeAlbumItems());
  }, 180);
}

/* small helper to escape strings into html-safe values */
function escapeHtml(s){
  return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');
}

/* Wechat copy + attempt to open WeChat */
const wechatBtn = document.getElementById('wechatBtn');
wechatBtn.addEventListener('click', async () => {
  const wechatId = 'Cookdao';
  // progressive clipboard
  try {
	if (navigator.clipboard && navigator.clipboard.writeText) {
	  await navigator.clipboard.writeText(wechatId);
	  showToast(`å·²å¤åˆ¶å¾®ä¿¡å·ï¼š${wechatId}`);
	} else {
	  // fallback
	  const ta = document.createElement('textarea');
	  ta.value = wechatId;
	  ta.style.position = 'fixed';
	  ta.style.left = '-9999px';
	  document.body.appendChild(ta);
	  ta.select();
	  document.execCommand('copy');
	  document.body.removeChild(ta);
	  showToast(`å·²å¤åˆ¶å¾®ä¿¡å·ï¼š${wechatId}`);
	}
	// try to open wechat (optional, non-blocking)
	try { window.location.href = 'weixin://'; } catch (e) { /* ignore */ }
  } catch (err) {
	showToast(`å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ï¼š${wechatId}`);
  }
});


function showToast(text){
  toast.textContent = text;
  toast.classList.add('show');
  setTimeout(()=>toast.classList.remove('show'), 2200);
}

/* IntersectionObserver to reveal album items with slight scale/opacity when they enter viewport */
let albumObserver;
function observeAlbumItems(){
  if(albumObserver) albumObserver.disconnect();
  const items = Array.from(document.querySelectorAll('.album-item'));
  albumObserver = new IntersectionObserver((entries) => {
	entries.forEach(entry => {
	  const el = entry.target;
	  if(entry.isIntersecting){
		el.style.transform = 'translateY(0) scale(1)';
		el.style.opacity = '1';
		// once revealed, unobserve to keep performance good
		albumObserver.unobserve(el);
	  }
	});
  }, {threshold: 0.15});
  items.forEach(it => albumObserver.observe(it));
}

/* initial render on load */
window.addEventListener('load', () => {
  renderAlbums('all');
  // ensure container has smooth opacity transition
  container.style.transition = 'opacity .35s ease';
});

/* Optional: keyboard support for control buttons via arrow keys */
document.querySelectorAll('.control-btn').forEach(btn => {
  btn.addEventListener('keydown', e => {
	if(e.key === 'ArrowRight' || e.key === 'ArrowLeft'){
	  e.preventDefault();
	  const btns = Array.from(document.querySelectorAll('.control-btn'));
	  const idx = btns.indexOf(btn);
	  const next = e.key === 'ArrowRight' ? (idx+1)%btns.length : (idx-1+btns.length)%btns.length;
	  btns[next].focus();
	}
  });
});
</script>

</body>
</html>
